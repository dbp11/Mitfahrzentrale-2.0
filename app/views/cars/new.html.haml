:javascript
  function desc(){
    document.getElementById("deshinweis").firstChild.nodeValue ="Noch " + (document.getElementById("descriptionarea").maxLength - document.getElementById("descriptionarea").value.length) + " Zeichen";
  }
= stylesheet_link_tag :cars
%h2
  = "Neues Fahrzeug hinzufügen"

= form_for :car, :url => "/cars/create", :html => { :multipart => true } do |f|
  -if @car.errors.any?
    #error_explanation
      %h2= "#{pluralize(@car.errors.count, "error")} Beim speichern des Fahrzueges ist ein Fehler aufgetreten:"
      %ul
        - @car.errors.full_messages.each do |msg|
          %li= msg
  .field
    = f.label :seats, "Sitzplätze*" 
    %br
    = f.number_field :seats, :size => 30, :min => 0, :max =>40, :autofocus => "autofocus"
  .field
    = f.label :car_type, "Modell*"
    %br
    = f.text_field :car_type, :required => true
  .field
    = f.label :licence, "Kennzeichen*"
    %br
    = f.text_field :licence, :required => true 
  .field
    = f.label :price_km, "Preis pro km (numerisch)"
    %br
    = f.text_field :price_km
  .field
    = f.label :smoker, "Raucher"
    %br
    = f.check_box :smoker
  .field
    = f.label :description, "Beschreibung (max. 100 Zeichen)"
    %br
    = f.text_area :description, :maxlength => 100, :placeholder => "Großer Kofferraum, Keine Türen", :resize => "none", :onkeydown => "desc()", :onkeyup => "desc()", :rows => "7", :onkeypress => "desc()"
    #deshinweis
      %script desc();
  .field
    = f.label :carpic, "Bild hochladen"
    %br
    = f.file_field :carpic
    
  .actions
  %br
    = image_submit_tag "/images/Button_add.png"
    Mit * gekennzeichnete Felder sind Pflichtfelder
= link_to image_tag( '/images/Button_back.png', :alt => "Zurück"), cars_path
